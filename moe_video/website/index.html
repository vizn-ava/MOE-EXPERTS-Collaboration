<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MOE Expert Collaboration Mining Visualization</title>
    <link rel="stylesheet" href="styles.css">
    <!-- å¼•å…¥axiosåº“ï¼ˆæ”¹ä¸ºæœ¬åœ°æ–‡ä»¶ï¼Œé¿å…CDNè¶…æ—¶ï¼‰ -->
    <script src="node_modules/axios/dist/axios.min.js"></script>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
    <header>
        <h1 data-i18n="title">MOE Expert Collaboration Mining Visualization</h1>
        <button id="lang-toggle" class="lang-toggle" title="Switch Language">ä¸­æ–‡</button>
        <button id="theme-toggle" class="theme-toggle" title="åˆ‡æ¢é£Žæ ¼" data-i18n-title="theme_toggle_title">ðŸŒ™</button>
    </header>

    <div class="main-content">
        <!-- æŒ‡å¯¼æ¨¡å— -->
        <div class="guide-module" id="guide-module">
            <h2 data-i18n="guide_title">Usage Guide</h2>
            <div class="guide-description" data-i18n="guide_description">
                This page displays the activation and decomposition relationships of SuperExpert in MOE models, providing interactive visualization.
            </div>
            <ol class="guide-steps">
                <li data-i18n="guide_step1">Enter your text in the input box on the left and click "Confirm".</li>
                <li data-i18n="guide_step2">Click the "+" buttons in the Token List to query the corresponding Top 5 first-level SuperExpert.</li>
                <li data-i18n="guide_step3">Click the "+" buttons in the first-level SuperExpert to view Top 5 second-level SuperExpert and visualization branches.</li>
            </ol>
        </div>
        
        <!-- ç¬¬ä¸€è¡Œï¼šè¾“å…¥æ¨¡å— + tokenåˆ—è¡¨ -->
        <div class="row first-row">
            <div class="input-module">
                <h2><span data-i18n="input_title">Input Text</span> <button id="confirm-button" data-i18n="confirm">Confirm</button></h2>
                <textarea id="input-text" placeholder="Enter your text here..." data-i18n-placeholder="input_placeholder">An air-vapor mixture, initially at 60 Â°F and 55 percent relative humidity, is heated until its temperature reaches 85 Â°F. Determine (a) the initial and final specific humidities, (b) the final relative humidity, and (c) the amount of heat added per lbm of dry air. Assume the mixture to be at a pressure of 14.7 psia.</textarea>
            </div>
            <div class="token-list">
                <h2 data-i18n="token_list">Token List</h2>
                <div class="visualization-area">
                    <div id="token-display" class="token-display">
                        <!-- è¿™é‡Œå°†æ˜¾ç¤ºè¾“å…¥æ–‡æœ¬çš„å†…å®¹ -->
                    </div>
                </div>
            </div>
        </div>
        <!-- ç¬¬äºŒè¡Œï¼šä¸€çº§ä¸“å®¶ç»„åˆ + äºŒçº§ä¸“å®¶ç»„åˆ -->
        <div class="row second-row">
            <div class="expert-explanation">
                <h2 data-i18n="first_experts_title">First-Level SuperExpert</h2>
                <div class="visualization-area">
                    <table class="token-table">
                        <thead>
                            <tr>
                                <th data-i18n="first_expert_index">Expert ID</th>
                                <th data-i18n="first_expert_name">Expert Name (Function)</th>
                                <th data-i18n="decompose_header">Detail</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- åˆå§‹ä¸ºç©ºï¼ŒåŠ¨æ€ç”Ÿæˆå†…å®¹ -->
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="expert-decomposition">
                <h2 data-i18n="second_experts_title">Second-Level SuperExpert</h2>
                <div class="visualization-area">
                    <table class="token-table">
                        <thead>
                            <tr>
                                <th data-i18n="second_expert_index">Expert ID</th>
                                <th data-i18n="second_expert_name">Expert Name (Function)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- åˆå§‹ä¸ºç©ºï¼ŒåŠ¨æ€ç”Ÿæˆå†…å®¹ -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- ç¬¬ä¸‰è¡Œï¼šMOEç½‘ç»œæ˜ å°„ - ç§»é™¤ï¼Œæ”¹ä¸ºæ‚¬æµ®çª—æ˜¾ç¤º -->
    </div>

    <!-- æ‚¬æµ®çª—æ¨¡æ€æ¡† -->
    <div id="activation-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title" data-i18n="network_title">Expert Group Mapping on MOE Network</h2>
                <span class="close-button">&times;</span>
            </div>
            <div class="modal-body">
                <!-- å“å­—å¸ƒå±€å®¹å™¨ -->
                <div class="triangle-layout">
                    <!-- ä¸Šæ–¹ï¼šMOEç½‘ç»œæ˜ å°„ -->
                    <div class="triangle-top">
                        <h3>MOE Network Mapping</h3>
                        <div class="neural-mapping-module">
                            <div id="modal-moe-network">
                                <!-- åŠ¨æ€ç”Ÿæˆ64x27çš„åœ†åœˆ -->
                            </div>
                        </div>
                    </div>
                    <!-- ä¸‹æ–¹å·¦ï¼šè¯äº‘å›¾ -->
                    <div class="triangle-bottom-left">
                        <h3>Token Word Cloud</h3>
                        <div id="math-wordcloud" class="wordcloud-container"></div>
                    </div>
                    <!-- ä¸‹æ–¹å³ï¼šä¸“å®¶åˆ†æžå›¾è¡¨ -->
                    <div class="triangle-bottom-right">
                        <h3>Expert Analysis Chart</h3>
                        <div class="modal-image-section">
                            <img src="Snipaste_2025-09-23_23-59-55.jpg" alt="Expert Analysis Chart" class="modal-image">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p data-i18n="footer">Â© 2025 MOE Visualization Platform</p>
    </footer>

    <!-- å¼•å…¥è‡ªå®šä¹‰çš„script.js -->
    <script src="wordcloud.js"></script>
    <script src="script.js"></script>
</body>
</html>