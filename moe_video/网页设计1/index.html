<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MOE Expert Collaboration Mining Visualization</title>
    <link rel="stylesheet" href="styles.css">
    <!-- å¼•å…¥axiosåº“ï¼ˆæ”¹ä¸ºæœ¬åœ°æ–‡ä»¶ï¼Œé¿å…CDNè¶…æ—¶ï¼‰ -->
    <script src="node_modules/axios/dist/axios.min.js"></script>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
    <header>
        <h1 data-i18n="title">MOE Expert Collaboration Mining Visualization</h1>
        <button id="lang-toggle" class="lang-toggle" title="Switch Language">ä¸­æ–‡</button>
        <button id="theme-toggle" class="theme-toggle" title="åˆ‡æ¢é£æ ¼" data-i18n-title="theme_toggle_title">ğŸŒ™</button>
    </header>

    <div class="main-content">
        <!-- æŒ‡å¯¼æ¨¡å— -->
        <div class="guide-module" id="guide-module">
            <h2 data-i18n="guide_title">Usage Guide</h2>
            <div class="guide-description" data-i18n="guide_description">
                This page displays the activation and decomposition relationships of expert combinations in MOE models, providing interactive visualization.
            </div>
            <ol class="guide-steps">
                <li data-i18n="guide_step1">Enter your text in the input box on the left and click "Confirm".</li>
                <li data-i18n="guide_step2">Top 3 first-level expert combinations are displayed in the Token List.</li>
                <li data-i18n="guide_step3">Click the "+" buttons in the first-level expert combinations to view Top 5 second-level expert combinations and visualization branches.</li>
            </ol>
        </div>
        
        <!-- ç¬¬ä¸€è¡Œï¼šè¾“å…¥æ¨¡å— + tokenåˆ—è¡¨ -->
        <div class="row first-row">
            <div class="input-module">
                <h2><span data-i18n="input_title">Input Text</span> <button id="confirm-button" data-i18n="confirm">Confirm</button></h2>
                <textarea id="input-text" placeholder="Enter your text here..." data-i18n-placeholder="input_placeholder">An air-vapor mixture, initially at 60 Â°F and 55 percent relative humidity, is heated until its temperature reaches 85 Â°F. Determine (a) the initial and final specific humidities, (b) the final relative humidity, and (c) the amount of heat added per lbm of dry air. Assume the mixture to be at a pressure of 14.7 psia.</textarea>
            </div>
            <div class="token-list">
                <h2 data-i18n="token_list">Token List</h2>
                <div class="text-display-area">
                    <div id="input-text-display" class="input-text-display">
                        <!-- åˆå§‹çŠ¶æ€æ˜¾ç¤ºç”¨æˆ·è¾“å…¥çš„æ–‡æœ¬å†…å®¹ -->
                    </div>
                </div>
                <div class="visualization-area">
                    <!-- Tokenä¿¡æ¯å°†åœ¨æ­¤åŒºåŸŸæ˜¾ç¤ºï¼Œæ— éœ€è¡¨æ ¼ -->
                </div>
            </div>
        </div>
        <!-- ç¬¬äºŒè¡Œï¼šä¸€çº§ä¸“å®¶ç»„åˆ + äºŒçº§ä¸“å®¶ç»„åˆ -->
        <div class="row second-row">
            <div class="expert-explanation">
                <h2 data-i18n="first_experts_title">First-Level Expert Combinations</h2>
                <div class="visualization-area">
                    <table class="token-table">
                        <thead>
                            <tr>
                                <th data-i18n="first_expert_index">Expert ID</th>
                                <th data-i18n="first_expert_name">Expert Name (Function)</th>
                                <th data-i18n="decompose_header">Decompose</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- åˆå§‹ä¸ºç©ºï¼ŒåŠ¨æ€ç”Ÿæˆå†…å®¹ -->
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="expert-decomposition">
                <h2 data-i18n="second_experts_title">Second-Level Expert Combinations</h2>
                <div class="visualization-area">
                    <table class="token-table">
                        <thead>
                            <tr>
                                <th data-i18n="second_expert_index">Expert ID</th>
                                <th data-i18n="second_expert_name">Expert Name (Function)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- åˆå§‹ä¸ºç©ºï¼ŒåŠ¨æ€ç”Ÿæˆå†…å®¹ -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- ç¬¬ä¸‰è¡Œï¼šMOEç½‘ç»œæ˜ å°„ -->
        <div class="row third-row">
            <div class="neural-mapping-module">
                <h2 data-i18n="network_title">Expert Group Mapping on MOE Network</h2>
                <div id="moe-network">
                    <!-- åŠ¨æ€ç”Ÿæˆ64x27çš„åœ†åœˆ -->
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p data-i18n="footer">Â© 2025 MOE Visualization Platform</p>
    </footer>

    <!-- Onboarding Overlay -->
    <div id="onboarding-overlay" class="onboarding-overlay hidden" aria-hidden="true">
        <div class="onboarding-backdrop"></div>
        <div class="onboarding-card" role="dialog" aria-modal="true" aria-labelledby="onb-title">
            <button class="onboarding-close" id="onboarding-close" aria-label="Close">Ã—</button>
            <h2 id="onb-title" data-i18n="onb_title">MOEä¸“å®¶åä½œå¯è§†åŒ–å±•ç¤º</h2>
            <div class="onboarding-lang">
                <span class="onboarding-lang-label" data-i18n="onb_lang">Language / è¯­è¨€ï¼š</span>
                <div class="onboarding-lang-buttons">
                    <button id="onb-lang-zh" class="onb-lang-btn">ä¸­æ–‡</button>
                    <button id="onb-lang-en" class="onb-lang-btn">EN</button>
                </div>
            </div>
            <p data-i18n="onb_intro">æœ¬é¡µé¢ç”¨äºå±•ç¤º MOE æ¨¡å‹ä¸­ä¸“å®¶ç»„åˆçš„æ¿€æ´»ä¸åˆ†è§£å…³ç³»ï¼Œå¹¶æä¾›äº¤äº’å¼å¯è§†åŒ–ã€‚</p>
            <ol class="onboarding-steps">
                <li data-i18n="onb_step1">åœ¨å·¦ä¾§è¾“å…¥æ¡†è¾“å…¥æ–‡æœ¬ï¼Œç‚¹å‡»â€œç¡®è®¤â€ã€‚</li>
                <li data-i18n="onb_step2">åœ¨ Token åˆ—è¡¨ä¸­ç‚¹å‡»â€œ+â€æŸ¥è¯¢å¯¹åº”çš„ Top 5 ä¸€çº§ä¸“å®¶ç»„åˆã€‚</li>
                <li data-i18n="onb_step3">åœ¨ä¸€çº§ä¸“å®¶ç»„åˆä¸­ç‚¹å‡»â€œ+â€æŸ¥çœ‹ Top 5 äºŒçº§ä¸“å®¶ç»„åˆä¸å¯è§†åŒ–åˆ†æ”¯ã€‚</li>
            </ol>
            <button id="onboarding-start" class="onboarding-start" data-i18n="onb_start">å¼€å§‹ä½“éªŒ</button>
        </div>
    </div>

    <!-- å¼•å…¥è‡ªå®šä¹‰çš„script.js -->
    <script src="script.js"></script>
</body>
</html>